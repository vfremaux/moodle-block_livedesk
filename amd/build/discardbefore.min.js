define(["jquery","core/config","core/log"],function(a,b,c){var d={params:null,init:function(b){d.params=b;var e=new dhtmlXCalendarObject("discard_date");e.setDate(d.params.creationdate),e.setDateFormat("%d.%m.%Y %h:%i"),a("#discard_btn").bind("click",this.discard_post_before_date),c.debug("AMD livedesk discard initialized")},discard_post_before_update:function(){var c=a("#discard_date").val(),e=b.wwwroot+"/blocks/livedesk/ajax/service.php";e+="?action=discard_post",e+="&bid="+d.params.bid,e+="&livedeskid="+d.params.livedeskid,e+="&courseid="+d.params.courseid,e+="&date="+c,a.post(e,function(){window.discard_messages_window.close()})}};return d});